<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/style.css" type="text/css">
  <script defer src="/script.js"></script>

  {{ if not .NoRedirect }}{{ with .Profile }}{{ if .LobbyID }}
  <meta http-equiv="Refresh" content="0; url='steam://joinlobby/{{ .GameID }}/{{ .LobbyID }}/{{ .SteamID }}'" />
  {{ end }}{{ end }}{{ end }}

  <meta property="og:site_name" content="SteamJoin">
  <meta name=twitter:card content="summary">
  {{ with .Profile }}
  {{/* Title */}}
  <title>Join {{ .Name }} on Steam</title>
  <meta property="og:title" content="Join {{ .Name }} on Steam" />
  <meta name=twitter:title content="Join {{ .Name }} on Steam">
  {{/* Image */}}
  <meta name="image" content="{{ .Avatar }}">
  <meta property="og:image" content="{{ .Avatar }}" />
  {{/* Description */}}
  {{ with .Game }}
  <meta name="description" content="Playing {{ . }}">
  <meta property="og:description" content="Playing {{ . }}" />
  <meta name=twitter:description content="Playing {{ . }}">
  {{ else }}
  <meta name="description" content="Not currently in-game">
  <meta property="og:description" content="Not currently in-game" />
  <meta name=twitter:description content="Not currently in-game">
  {{ end }}
  {{ else }}
  {{/* Title */}}
  <title>SteamJoin</title>
  <meta property="og:title" content="SteamJoin" />
  <meta name=twitter:title content="SteamJoin">
  {{/* Image */}}
  <meta name="image" content="">
  <meta property="og:image" content="" />
  {{/* Description */}}
  <meta name="description" content="Shortened + permanent Steam join game lobby links">
  <meta property="og:description" content="Shortened + permanent Steam join game lobby links" />
  <meta name=twitter:description content="Shortened + permanent Steam join game lobby links">
  {{ end }}
</head>

<body class="text-white bg-gradient-to-b from-slate-700 to-slate-900">
  <nav class="px-7 py-4 flex justify-between w-full border-b border-slate-300/10">
    <a href="/" class="px-1 text-3xl hover:underline">SteamJoin</a>
    <a href="https://github.com/blair-c/steamjoin" title="Source Code" target="_blank" rel="noopener noreferrer"
      class="px-1 fill-white hover:fill-lime-300 transition-all">
      <svg class="h-9" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" /></svg><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
      <span class="sr-only">Source Code</span>
    </a>
  </nav>
  <main class="p-8 pb-32">
    {{ with .Profile }}
    <div class="flex flex-col xs:flex-row text-center xs:text-left items-center sm:items-start gap-2 p-6 max-w-3xl mx-auto rounded-2xl border border-slate-300/10 bg-slate-900/50 shadow-lg shadow-slate-900/40">
      <img src="{{ .Avatar }}" alt="{{ .Name }}'s Steam Avatar"
        class="w-48 h-48 xs:max-sm:w-24 xs:max-sm:h-24 rounded-lg border-4 {{ if .GameID }}border-lime-300/90{{ else if eq .Visibility 1 }}border-rose-400/90{{ else if eq .Status 0 }}border-slate-500/90{{ else }}border-sky-500/90{{ end }}">
      <div class="xs:pl-4 sm:py-1 flex flex-col sm:gap-1">
        <a href="{{ .Link }}" title="View {{ .Name }} on Steam" target="_blank" rel="noopener noreferrer" 
          class="text-2xl xs:text-3xl xs:pr-4 mb-1 sm:mb-2 hover:underline wrap-balance">
          {{ .Name }}
        </a>
        {{ if .Game }}
        <p class="text-lime-100/90 xs:pr-4">Playing {{ .Game }}</p>
          {{ if .LobbyID }}
          <p class="mt-2 flex items-center flex-wrap gap-2 justify-center xs:justify-normal">
            <a href="steam://joinlobby/{{ .GameID }}/{{ .LobbyID }}/{{ .SteamID }}"
              class="text-lime-300/90 max-w-fit whitespace-nowrap px-2 py-1 border rounded-md border-lime-100/10 hover:border-lime-100/20 bg-lime-900/10 hover:bg-lime-600/10 active:scale-95 transition-all">
              <span>Join<span class="max-[355px]:sr-only"> Game</span> â†’</span>
            </a>
            <button onclick="copyJoinLink({{ .Link }})"
              class="text-blue-300/90 max-w-fit whitespace-nowrap px-2 py-1 flex items-center gap-1 border rounded-md border-blue-100/10 hover:border-blue-100/20 bg-blue-950/10 hover:bg-blue-700/10 active:scale-95 transition-all">
              <span id="copy-link">Copy Link</span>
              <svg class="w-4 fill-current pb-px" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512"><path d="M280 64h40c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128C0 92.7 28.7 64 64 64h40 9.6C121 27.5 153.3 0 192 0s71 27.5 78.4 64H280zM64 112c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16H320c8.8 0 16-7.2 16-16V128c0-8.8-7.2-16-16-16H304v24c0 13.3-10.7 24-24 24H192 104c-13.3 0-24-10.7-24-24V112H64zm128-8a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"/></svg><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
            </button>
          </p>
          {{ else }}
          <p class="text-rose-300/90">No Open Lobby</p>
          {{ end }}
        {{ else if eq .Visibility 1 }}
        <p class="text-rose-300/90">Private Profile</p>
        {{ else }}
          {{ if eq .Status 0 }}
          <p class="text-gray-300/90">Offline</p>
          {{ else }}
          <p class="text-gray-300/90">Not currently in-game</p>
          {{ end }}
        {{ end }}
      </div>
    </div>
      {{ if not .Game }}{{ if eq .Status 0 | not }}
      <p class="text-amber-300/90 mx-auto mt-6 mb-5 w-fit text-center">
        <svg class="w-4 mb-1 fill-current inline-block mr-0" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
        Seem off? Make sure "Game details" are set to "Public" in Steam Privacy Settings
      </p>
      <img src="/img/privacy-settings.png" class="w-full max-w-3xl mx-auto rounded-2xl">
      {{ end }}{{ end }}
    <p class="text-lg text-slate-100 text-center w-fit mx-auto mt-8">Find another account:</p>

    {{ else }}
    <h1 class="text-2xl xs:text-4xl md:text-5xl max-w-3xl mx-auto mt-2 text-center xs:wrap-balance">
      Shortened + Permanent<br><span class="text-lime-300">Join Game</span> Lobby Links
    </h1>
    <p class="text-xl text-slate-100 text-center w-fit mx-auto mt-8">Find yours:</p>
    {{ end }}

    <form id="form" class="flex w-fit mx-auto mt-2">
      <input id="profile-input" type="text" placeholder="Steam ID or Profile URL" {{ if not .Profile }}autofocus{{ end }} 
        class="text-xl pl-3 xs:w-96 max-w-full text-center rounded-lg border-slate-300/20 hover:border-slate-400/60 focus:border-blue-600 bg-slate-900/30 transition-colors" />
    </form>
    {{ if .Profile | not }}{{ with .Steam }}
      <p class="text-rose-300/90 mx-auto mt-4 w-fit text-center">
        <svg class="w-4 mb-1 fill-current inline-block mr-0" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
        No user "{{ . }}" found
      </p>
    {{ end }}{{ end }}
  </main>
  <footer>

  </footer>
</body>

</html>